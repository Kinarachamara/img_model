<!DOCTYPE html>
<html lang="si">
  <head>
    <meta charset="utf-8"/>
    <title>Leaf Recognition â€” Scan Capture (Ask AI)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root { 
        --accent: #4caf50; 
        --bg: #f4f9f4; 
        --card: #ffffff; 
      }

      body { 
        font-family: Arial, sans-serif;
        background: var(--bg); 
        color: #222; 
        text-align: center; 
        margin: 0; 
      }

      h1 { margin: 6px 0 2px 0; }
      p.lead { margin: 0 0 14px 0; color: #444; }

      /* Controls */
      #controls { margin: 12px 0; }

      button { 
        background: var(--accent); 
        color: #fff; 
        border: none; 
        padding: 10px 14px; 
        border-radius: 8px; 
        cursor: pointer; 
        font-weight: 600; 
        margin: 0 6px; 
      }

      button.stop { 
        background: #f44336; 
      }

      /* layout */
      .wrap { 
        display: flex; 
        gap: 18px; 
        justify-content: center; 
        flex-wrap: wrap; 
        align-items: flex-start;
        margin: 0 auto;
      }

      .previewCard { 
        width: 340px; 
        background: var(--card); 
        border-radius: 12px; 
        padding: 12px; 
        box-shadow: 0 8px 22px rgba(0, 0, 0, 0.06); 
        border: 1px solid rgba(0, 0, 0, 0.04); 
      }

      #webcam-container { 
        width: 320px; 
        height: 320px; 
        margin: 6px auto; 
        position: relative; 
        overflow: hidden; 
        border-radius: 8px; 
        border: 2px solid rgba(76, 175, 80, 0.15); 
        background: #000; 
      }

      #webcam-container canvas { 
        width: 100%; 
        height: 100%; 
        display: block; 
      }

      .scanner { 
        position: absolute; 
        left: 0; 
        right: 0; 
        top: 0; 
        bottom: 0; 
        pointer-events: none; 
      }

      .scan-line { 
        position: absolute; 
        left: -100%; 
        right: -10%; 
        height: 400px; 
        top: 0; 
        background: linear-gradient(180deg, rgba(255, 0, 0, 0) 0%, rgba(0, 119, 255, 0.15) 45%, rgba(255, 255, 255, 0.25) 55%, rgba(255, 255, 255, 0) 100%); 
        transform: translateY(-100%); 
        filter: drop-shadow(0 6px 10px rgb(0, 0, 0)); 
      }

      .scanning .scan-line { 
        animation: scanMove 0.7s linear forwards; 
      }

      @keyframes scanMove { 
        0% { 
          transform: translateY(-120%); 
          opacity: 0; 
        } 
        10% { 
          opacity: 1; 
        } 
        100% { 
          transform: translateY(120%); 
          opacity: 0; 
        } 
      }

      .flash { 
        position: absolute; 
        left: 0; 
        right: 0; 
        top: 0; 
        bottom: 0; 
        background: white; 
        opacity: 0; 
        pointer-events: none; 
        transition: opacity 0.12s ease; 
      }

      .flash.visible { 
        opacity: 0.7; 
      }

      #topPredictionBox { 
        margin-top: 10px; 
        padding: 10px; 
        border-radius: 10px; 
        background: linear-gradient(180deg, #fff, #eafaf0); 
        border: 1px solid rgba(76, 175, 80, 0.18); 
        font-weight: 700; 
        display: none; 
        text-align: left; 
      }

      .rightCol { 
        width: 540px; 
        max-width: 90%; 
      }

      .galleryCard { 
        background: var(--card); 
        padding: 10px; 
        border-radius: 10px; 
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.06); 
        border: 1px solid rgba(0, 0, 0, 0.04); 
      }

      #gallery { 
        display: flex; 
        flex-wrap: wrap; 
        gap: 10px; 
        justify-content: flex-start; 
        margin-top: 10px; 
      }

      .captureCard { 
        width: 160px; 
        border-radius: 8px; 
        overflow: hidden; 
        background: #fff; 
        border: 1px solid #eee; 
        padding: 6px; 
        text-align: center; 
      }

      .captureCard img { 
        width: 100%; 
        height: 110px; 
        object-fit: cover; 
        border-radius: 6px; 
        display: block; 
      }

      .meta { 
        font-size: 0.82rem; 
        color: #333; 
        margin-top: 6px; 
      }

      .downloadBtn { 
        display: inline-block; 
        margin-top: 6px; 
        padding: 6px 8px; 
        border-radius: 6px; 
        background: var(--accent); 
        color: #fff; 
        text-decoration: none; 
        font-size: 0.82rem; 
      }

      /* Modal styles */
      .modal-backdrop { 
        position: fixed; 
        left: 0; 
        top: 0; 
        right: 0; 
        bottom: 0; 
        background: rgba(0, 0, 0, 0.45); 
        display: none; 
        align-items: center; 
        justify-content: center; 
        z-index: 9999; 
      }

      .modal { 
        width: 520px; 
        max-width: 95%; 
        background: #fff; 
        border-radius: 12px; 
        padding: 14px; 
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.25); 
      }

      .modal h3 { 
        margin-top: 0; 
      }

      .form-row { 
        margin: 8px 0; 
        text-align: left; 
      }

      .form-row label { 
        display: block; 
        font-size: 0.86rem; 
        margin-bottom: 6px; 
      }

      .form-row input[type="text"], .form-row textarea { 
        width: 100%; 
        padding: 8px; 
        border-radius: 8px; 
        border: 1px solid #ddd; 
        font-size: 0.95rem; 
      }

      .modal .actions { 
        display: flex; 
        gap: 8px; 
        justify-content: flex-end; 
        margin-top: 10px; 
      }

      .btn-secondary { 
        background: #eee; 
        color: #111; 
      }

      /* Responsive Styles */
      @media (max-width: 900px) { 
        .wrap { 
          flex-direction: column; 
          align-items: center; 
        }
        
        .rightCol { 
          width: 92%; 
        }

        .previewCard { 
          width: 100%; 
        }

        #webcam-container { 
          width: 100%; 
          height: 100%; 
        }

        #gallery { 
          justify-content: center; 
        }
      }
    </style>
  </head>
  <body>
    <h1>Leaf Recognition</h1>
    <p class="lead">Scan the leaf for recognition</p>
    <div id="controls">
      <button class="start" onclick="startScan()">Start Scan</button>
      <button class="stop" onclick="stopScan()">Stop Scan</button>
    </div>

    <div class="wrap">
      <div class="previewCard">
        <div id="webcam-container">
          <canvas id="webcam-canvas"></canvas>
          <div class="scanner scanning">
            <div class="scan-line"></div>
          </div>
          <div class="flash"></div>
        </div>
        <div id="topPredictionBox">Predicted Leaf: <span id="prediction"></span></div>
      </div>
      <div class="rightCol">
        <div id="gallery"></div>
      </div>
    </div>
    <div class="modal-backdrop">
      <div class="modal">
        <h3>Leaf Recognition Details</h3>
        <form id="leafDetailsForm">
          <div class="form-row">
            <label for="leafName">Leaf Name</label>
            <input type="text" id="leafName" name="leafName">
          </div>
          <div class="form-row">
            <label for="leafDescription">Description</label>
            <textarea id="leafDescription" name="leafDescription"></textarea>
          </div>
          <div class="actions">
            <button type="button" class="btn-secondary" onclick="closeModal()">Cancel</button>
            <button type="submit" class="btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
    <script>
      function startScan() {
        console.log("Scanning started...");
        // Add webcam start logic
      }
      
      function stopScan() {
        console.log("Scanning stopped...");
        // Add webcam stop logic
      }

      function closeModal() {
        document.querySelector('.modal-backdrop').style.display = 'none';
      }
    </script>
  </body>
</html>
